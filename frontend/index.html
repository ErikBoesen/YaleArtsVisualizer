<html>
    <head>
        <title>Yale Arts Map</title>
        <script src="//unpkg.com/3d-force-graph"></script>
    </head>

    <body>

        <div id="graph"></div>

        <script>
            const element = document.getElementById('graph');

            const Graph = ForceGraph3D()(element)
                .jsonUrl('../backend/graph.json')
                .nodeAutoColorBy('user')
                .nodeLabel(node => node.name || node.title)
                .onNodeClick(node => {
                    if (node.title) {
                        window.open(`https://collegearts.yale.edu/events/shows-screenings/${node.slug}`, '_blank');
                    } else {
                        window.open(`https://collegearts.yale.edu/biography/${node.slug}`, '_blank');
                    }
                });
        </script>
    </body>
</html>
