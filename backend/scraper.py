import requests
from bs4 import BeautifulSoup


cookies = {
}

headers = {
    'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:109.0) Gecko/20100101 Firefox/119.0',
    'Accept': 'application/json, text/javascript, */*; q=0.01',
    'Accept-Language': 'en-US,en;q=0.5',
    # 'Accept-Encoding': 'gzip, deflate, br',
    'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8',
    'X-Requested-With': 'XMLHttpRequest',
    'Origin': 'https://collegearts.yale.edu',
    'DNT': '1',
    'Connection': 'keep-alive',
    'Referer': 'https://collegearts.yale.edu/events/shows-screenings',
    # 'Cookie': '_ga=GA1.1.433751101.1663716810; ph_foZTeM1AW8dh5WkaofxTYiInBhS4XzTzRqLs50kVziw_posthog=%7B%22distinct_id%22%3A%22188f90065b6ae-0265a479d3cc8e8-41282c3d-1fa400-188f90065b7296%22%2C%22%24device_id%22%3A%22188f90065b6ae-0265a479d3cc8e8-41282c3d-1fa400-188f90065b7296%22%2C%22%24user_state%22%3A%22anonymous%22%2C%22extension_version%22%3A%221.5.5%22%2C%22%24sesid%22%3A%5B1687804817113%2C%22188f90066dc27-0321ee7d83ca408-41282c3d-1fa400-188f90066dd132b%22%2C1687804733148%5D%2C%22%24session_recording_enabled_server_side%22%3Afalse%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24active_feature_flags%22%3A%5B%5D%2C%22%24enabled_feature_flags%22%3A%7B%22enable-session-recording%22%3Afalse%2C%22sourcing%22%3Afalse%2C%22only-company-edit%22%3Afalse%2C%22job-lists%22%3Afalse%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%7D; medicineyale_cookie_consent={"categories":["essential","analytics","advertising"],"level":["essential","analytics","advertising"],"revision":0,"data":null,"rfc_cookie":false,"consent_date":"2023-08-24T23:31:01.012Z","consent_uuid":"b11ce161-a9fa-4c5f-96a8-2e969393a9f7","last_consent_update":"2023-08-24T23:31:01.012Z"}; _ga_NF1213GXGY=GS1.1.1693342668.2.0.1693343115.0.0.0; nmstat=65cbe89b-5204-ec19-d6c2-b0ec1e104a52; mp_b6b4bb12-e8a3-48f7-a8ed-aa0be94fb272_perfalytics=%7B%22distinct_id%22%3A%20%2218a42d1869e233-0f1ceb05822149-41262c3d-13c680-18a42d1869f972%22%2C%22%24device_id%22%3A%20%2218a42d1869e233-0f1ceb05822149-41262c3d-13c680-18a42d1869f972%22%2C%22__last_event_time%22%3A%201693338144786%2C%22%24session_id%22%3A%20%2218a42d186a128d-04fd65a0a48e6e-41262c3d-13c680-18a42d186a28eb%22%2C%22__first_pageview_in_session_has_occurred%22%3A%20true%2C%22%24search_engine%22%3A%20%22google%22%2C%22__initial_utm_props_set%22%3A%20true%2C%22%24initial_referrer%22%3A%20%22https%3A%2F%2Fwww.google.com%2F%22%2C%22%24initial_referring_domain%22%3A%20%22www.google.com%22%2C%22%24pageview_id%22%3A%20%2218a42d186b150e-008d04c7d975fd8-41262c3d-13c680-18a42d186b2a6f%22%2C%22__first_pageview_occurred%22%3A%20true%2C%22__last_pageview_time%22%3A%201693338142390%7D; ajs_anonymous_id=%2218a42d1869e233-0f1ceb05822149-41262c3d-13c680-18a42d1869f972%22; _clck=1ximmnf|2|fek|0|1336; _ga_VVV4Q7EESL=GS1.1.1693406930.2.1.1693407078.0.0.0; _ga_Y57NC50W82=GS1.1.1693420232.4.0.1693420233.0.0.0; _ga_MNFPTCWVF5=GS1.1.1693421020.1.1.1693421093.0.0.0; _ga_G470VGEFDQ=GS1.1.1693428332.1.1.1693428354.0.0.0; _ga_D491W728G4=GS1.1.1693430558.1.0.1693430560.0.0.0; dtCookie=v_4_srv_3_sn_E988B03876F745D26BA4F3F419290657_perc_100000_ol_0_mul_1_app-3Ae3114a869ec8627c_0_app-3A09c378fd1d50f13a_1_app-3Aea7c4b59f27d43eb_0_app-3A1e70f254d6d57550_1_app-3A1ee3f0e5ac14ee67_1_app-3Abb88336c993cba2f_1_app-3A02c6a60722206870_1_app-3A7ccc62e318009b9e_1_app-3A897077b8b98a5ac3_1_rcs-3Acss_0; rxVisitor=1663802619762IN9KP3VVN73LAIRUH7LLF7M08VIO2JD8; dtPC=3$229818589_702h-vOHTQNLEGMNBTKFFQAUKWOGEMHTCRMRIL-0e0; rxvt=1693431618947|1693428354385; dtLatC=1; dtSa=-; adaptive_image=1920; has_js=1',
    'Sec-Fetch-Dest': 'empty',
    'Sec-Fetch-Mode': 'cors',
    'Sec-Fetch-Site': 'same-origin',
    'Pragma': 'no-cache',
    'Cache-Control': 'no-cache',
    # Requests doesn't support trailers
    # 'TE': 'trailers',
}

data = {
    'page': '9',
    'view_name': 'shows_and_screenings',
    'view_display_id': 'block_1',
    'view_args': '',
    'view_path': 'node/216',
    'view_base_path': '',
    'view_dom_id': '3a5e02f0286da41bbe8f065d78a51239',
    'pager_element': '0',
    'ajax_html_ids[]': [
        'omega-media-query-dummy',
        'skip-link',
        'region-page-top',
        'page',
        'section-header',
        'zone-topper-wrapper',
        'zone-topper',
        'region-topper-first',
        'region-topper-second',
        'block-block-51',
        'zone-branding-wrapper',
        'zone-branding',
        'region-menu',
        'nav-toggle',
        'block-superfish-1',
        'superfish-1',
        'menu-1876-1',
        'hp-link',
        'menu-1546-1',
        'menu-1571-1',
        'menu-1576-1',
        'menu-1581-1',
        'menu-1551-1',
        'menu-1586-1',
        'menu-1591-1',
        'menu-19006-1',
        'menu-19007-1',
        'menu-19010-1',
        'menu-19011-1',
        'menu-19012-1',
        'menu-19321-1',
        'menu-19143-1',
        'menu-1561-1',
        'menu-1621-1',
        'menu-1596-1',
        'menu-1601-1',
        'menu-1606-1',
        'menu-1871-1',
        'menu-2021-1',
        'menu-1611-1',
        'menu-1636-1',
        'menu-1616-1',
        'menu-19004-1',
        'menu-1566-1',
        'menu-1641-1',
        'menu-1646-1',
        'menu-1651-1',
        'menu-16101-1',
        'menu-16106-1',
        'menu-1656-1',
        'menu-1661-1',
        'menu-1666-1',
        'menu-18999-1',
        'block-block-56',
        'section-content',
        'section-content-inner',
        'zone-header-wrapper',
        'zone-header',
        'region-header-first',
        'block-views-yca-page-block',
        'breadcrumb',
        'zone-content-wrapper',
        'zone-content',
        'region-content',
        'main-content',
        'page-title',
        'block-system-main',
        'node-page-216',
        'block-views-shows-and-screenings-block-1',
        'views-exposed-form-shows-and-screenings-block-1',
        'edit-field-semester-tid-wrapper',
        'edit-field-semester-tid',
        'edit-field-category-tid-wrapper',
        'edit-field-category-tid',
        'date_views_exposed_filter-19b5b5fdd9aeda2c7809977fdd40cc57-wrapper',
        'date_views_exposed_filter-19b5b5fdd9aeda2c7809977fdd40cc57',
        'edit-field-combined-date-value-value-wrapper',
        'edit-field-combined-date-value-value-inside-wrapper',
        'edit-field-combined-date-value-value',
        'edit-field-combined-date-value-value-year',
        'edit-submit-shows-and-screenings',
        'edit-reset',
        'section-footer',
        'zone-footer-wrapper',
        'zone-footer',
        'region-footer-first',
        'region-footer-second',
        'block-menu-menu-footer',
        'region-footer-third',
        'block-block-31',
        'region-page-bottom',
        'cboxOverlay',
        'colorbox',
        'cboxWrapper',
        'cboxTopLeft',
        'cboxTopCenter',
        'cboxTopRight',
        'cboxMiddleLeft',
        'cboxContent',
        'cboxTitle',
        'cboxCurrent',
        'cboxPrevious',
        'cboxNext',
        'cboxSlideshow',
        'cboxLoadingOverlay',
        'cboxLoadingGraphic',
        'cboxMiddleRight',
        'cboxBottomLeft',
        'cboxBottomCenter',
        'cboxBottomRight',
        'simplifyJobsContainer',
    ],
    'ajax_page_state[theme]': 'yca',
    'ajax_page_state[theme_token]': 'af3t_s6yrL4PIXSIebU_5RPGme8fkaFPD5cd9divxS0',
    'ajax_page_state[css][modules/system/system.base.css]': '1',
    'ajax_page_state[css][modules/system/system.menus.css]': '1',
    'ajax_page_state[css][modules/system/system.messages.css]': '1',
    'ajax_page_state[css][modules/system/system.theme.css]': '1',
    'ajax_page_state[css][sites/all/modules/contrib/adaptive_image/css/adaptive-image.css]': '1',
    'ajax_page_state[css][modules/aggregator/aggregator.css]': '1',
    'ajax_page_state[css][sites/all/modules/contrib/calendar/css/calendar_multiday.css]': '1',
    'ajax_page_state[css][modules/field/theme/field.css]': '1',
    'ajax_page_state[css][modules/node/node.css]': '1',
    'ajax_page_state[css][modules/search/search.css]': '1',
    'ajax_page_state[css][modules/user/user.css]': '1',
    'ajax_page_state[css][sites/all/modules/contrib/extlink/extlink.css]': '1',
    'ajax_page_state[css][sites/all/modules/contrib/views/css/views.css]': '1',
    'ajax_page_state[css][sites/all/modules/contrib/ckeditor/css/ckeditor.css]': '1',
    'ajax_page_state[css][sites/all/modules/contrib/ctools/css/ctools.css]': '1',
    'ajax_page_state[css][sites/all/modules/contrib/jscrollpane/css/jquery.jscrollpane.css]': '1',
    'ajax_page_state[css][sites/all/modules/contrib/typogrify/typogrify.css]': '1',
    'ajax_page_state[css][sites/all/themes/yca/js/owl.carousel.min.css]': '1',
    'ajax_page_state[css][sites/all/themes/yca/js/owl.theme.default.css]': '1',
    'ajax_page_state[css][//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css]': '1',
    'ajax_page_state[css][sites/all/libraries/superfish/css/superfish.css]': '1',
    'ajax_page_state[css][sites/all/libraries/superfish/css/superfish-smallscreen.css]': '1',
    'ajax_page_state[css][sites/all/themes/omega/omega/css/formalize.css]': '1',
    'ajax_page_state[css][sites/all/themes/omega/omega/css/omega-menu.css]': '1',
    'ajax_page_state[css][sites/all/themes/yca/css/custom.css]': '1',
    'ajax_page_state[css][public://css_injector/css_injector_6.css]': '1',
    'ajax_page_state[css][public://css_injector/css_injector_21.css]': '1',
    'ajax_page_state[css][public://css_injector/css_injector_28.css]': '1',
    'ajax_page_state[css][ie::wide::sites/all/themes/yalenew_base/css/grid/yalenew_default/wide/yalenew-default-wide-12.css]': '1',
    'ajax_page_state[css][sites/all/themes/yalenew_base/css/grid/yalenew_default/fluid/yalenew-default-fluid-12.css]': '1',
    'ajax_page_state[css][sites/all/themes/yalenew_base/css/grid/yalenew_default/narrow/yalenew-default-narrow-12.css]': '1',
    'ajax_page_state[css][sites/all/themes/yalenew_base/css/grid/yalenew_default/wide/yalenew-default-wide-12.css]': '1',
    'ajax_page_state[js][0]': '1',
    'ajax_page_state[js][1]': '1',
    'ajax_page_state[js][2]': '1',
    'ajax_page_state[js][3]': '1',
    'ajax_page_state[js][sites/all/libraries/respondjs/respond.min.js]': '1',
    'ajax_page_state[js][//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js]': '1',
    'ajax_page_state[js][misc/jquery-extend-3.4.0.js]': '1',
    'ajax_page_state[js][misc/jquery-html-prefilter-3.5.0-backport.js]': '1',
    'ajax_page_state[js][misc/jquery.once.js]': '1',
    'ajax_page_state[js][misc/drupal.js]': '1',
    'ajax_page_state[js][sites/all/modules/contrib/jquery_update/replace/ui/external/jquery.cookie.js]': '1',
    'ajax_page_state[js][sites/all/modules/contrib/jquery_update/replace/jquery.form/4/jquery.form.min.js]': '1',
    'ajax_page_state[js][misc/form-single-submit.js]': '1',
    'ajax_page_state[js][misc/ajax.js]': '1',
    'ajax_page_state[js][sites/all/modules/contrib/jquery_update/js/jquery_update.js]': '1',
    'ajax_page_state[js][sites/all/modules/contrib/extlink/extlink.js]': '1',
    'ajax_page_state[js][sites/all/libraries/superfish/sfsmallscreen.js]': '1',
    'ajax_page_state[js][sites/all/libraries/colorbox/jquery.colorbox-min.js]': '1',
    'ajax_page_state[js][sites/all/modules/contrib/colorbox/js/colorbox.js]': '1',
    'ajax_page_state[js][sites/all/modules/contrib/colorbox/js/colorbox_load.js]': '1',
    'ajax_page_state[js][sites/all/modules/contrib/colorbox/js/colorbox_inline.js]': '1',
    'ajax_page_state[js][sites/all/modules/contrib/jscrollpane/js/jquery.jscrollpane.min.js]': '1',
    'ajax_page_state[js][sites/all/modules/contrib/jscrollpane/js/jquery.mousewheel.js]': '1',
    'ajax_page_state[js][sites/all/modules/contrib/jscrollpane/js/script.js]': '1',
    'ajax_page_state[js][sites/all/modules/contrib/custom_search/js/custom_search.js]': '1',
    'ajax_page_state[js][sites/all/modules/contrib/better_exposed_filters/better_exposed_filters.js]': '1',
    'ajax_page_state[js][sites/all/modules/contrib/views/js/base.js]': '1',
    'ajax_page_state[js][misc/progress.js]': '1',
    'ajax_page_state[js][sites/all/modules/contrib/views/js/ajax_view.js]': '1',
    'ajax_page_state[js][sites/all/modules/contrib/google_analytics/googleanalytics.js]': '1',
    'ajax_page_state[js][https://www.googletagmanager.com/gtag/js?id=UA-33700192-2]': '1',
    'ajax_page_state[js][sites/all/themes/yca/js/owl.carousel.min.js]': '1',
    'ajax_page_state[js][sites/all/themes/yca/js/yca.js]': '1',
    'ajax_page_state[js][sites/all/libraries/superfish/supposition.js]': '1',
    'ajax_page_state[js][sites/all/libraries/superfish/superfish.js]': '1',
    'ajax_page_state[js][sites/all/modules/contrib/superfish/superfish.js]': '1',
    'ajax_page_state[js][sites/all/themes/omega/omega/js/jquery.formalize.js]': '1',
    'ajax_page_state[js][sites/all/themes/omega/omega/js/omega-mediaqueries.js]': '1',
    'ajax_page_state[jquery_version]': '1.8',
}

response = requests.post('https://collegearts.yale.edu/views/ajax', cookies=cookies, headers=headers, data=data)
print(response.json()[2]['data'])
